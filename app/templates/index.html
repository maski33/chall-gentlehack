<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Notes Internes - Plateforme s√©curis√©e</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='static.css') }}">
    <style>
        .hero {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 100px 20px;
            text-align: center;
        }
        
        .hero h1 {
            font-size: 3.5em;
            margin-bottom: 20px;
        }
        
        .hero p {
            font-size: 1.2em;
            max-width: 600px;
            margin: 0 auto 40px;
            opacity: 0.9;
        }
        
        .features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            padding: 80px 20px;
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .feature-card {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            text-align: center;
            transition: transform 0.3s;
        }
        
        .feature-card:hover {
            transform: translateY(-10px);
        }
        
        .feature-icon {
            font-size: 3em;
            margin-bottom: 20px;
        }
        
        .feature-card h3 {
            color: #333;
            margin-bottom: 15px;
        }
        
        .feature-card p {
            color: #666;
            line-height: 1.6;
        }
        
        .cta-buttons {
            text-align: center;
            padding: 50px 20px;
            background: #f8f9fa;
        }
        
        .stats {
            display: flex;
            justify-content: center;
            gap: 50px;
            padding: 50px 20px;
            background: white;
        }
        
        .stat-item {
            text-align: center;
        }
        
        .stat-number {
            font-size: 2.5em;
            font-weight: bold;
            color: #667eea;
            margin-bottom: 10px;
        }
        
        .stat-label {
            color: #666;
            font-size: 0.9em;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .security-notice {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 5px;
            padding: 15px;
            margin: 30px auto;
            max-width: 800px;
            text-align: center;
            color: #856404;
        }
        
        .debug-hint {
            background: #f8f9fa;
            border-left: 4px solid #667eea;
            padding: 15px;
            margin: 30px 0;
            font-family: monospace;
            font-size: 0.9em;
            color: #666;
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-brand">
            <h1>üìù Notes Internes</h1>
        </div>
        <div class="nav-actions">
            {% if session.user_id %}
                <a href="/notes" class="btn btn-primary">Acc√©der √† mes notes</a>
                <a href="/logout" class="btn btn-outline">D√©connexion</a>
            {% else %}
                <a href="/login" class="btn btn-primary">Connexion</a>
            {% endif %}
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero">
        <div class="container">
            <h1>Plateforme s√©curis√©e de partage de notes</h1>
            <p>L'outil interne de confiance pour les √©quipes qui travaillent sur des projets sensibles et confidentiels.</p>
            
            {% if not session.user_id %}
            <a href="/login" class="btn btn-primary" style="font-size: 1.2em; padding: 15px 30px;">
                Se connecter √† la plateforme
            </a>
            {% else %}
            <a href="/notes" class="btn btn-primary" style="font-size: 1.2em; padding: 15px 30px;">
                Acc√©der √† mon espace
            </a>
            {% endif %}
        </div>
    </section>

    <!-- Features -->
    <section class="features">
        <div class="feature-card">
            <div class="feature-icon">üîí</div>
            <h3>S√©curit√© maximale</h3>
            <p>Chaque note est chiffr√©e et accessible uniquement par son propri√©taire. Notre syst√®me garantit la confidentialit√© absolue de vos donn√©es.</p>
        </div>
        
        <div class="feature-card">
            <div class="feature-icon">üë•</div>
            <h3>Collaboration s√©curis√©e</h3>
            <p>Partagez des informations sensibles avec vos coll√®gues en toute confiance. Les droits d'acc√®s sont strictement contr√¥l√©s.</p>
        </div>
        
        <div class="feature-card">
            <div class="feature-icon">‚ö°</div>
            <h3>API performante</h3>
            <p>Acc√©dez √† vos notes via notre API REST s√©curis√©e. Int√©gration facile avec vos outils existants.</p>
            <!-- Indice cach√© -->
            <div class="debug-hint">
                <strong>Info d√©veloppeur :</strong> L'API utilise le endpoint /api/note/&lt;id&gt;. 
                La v√©rification d'autorisation est g√©r√©e c√¥t√© serveur.
            </div>
        </div>
    </section>

    <!-- Security Notice -->
    <div class="security-notice">
        <h3>‚ö†Ô∏è Note de s√©curit√© importante</h3>
        <p>Cette plateforme contient des informations sensibles. Toute tentative d'acc√®s non autoris√© est strictement interdite et sera journalis√©e.</p>
        <p><small>Dernier audit de s√©curit√© : 15/11/2023 - Tous les tests de p√©n√©tration ont √©t√© pass√©s avec succ√®s.</small></p>
    </div>

    <!-- Stats -->
    <section class="stats">
        <div class="stat-item">
            <div class="stat-number">1,247</div>
            <div class="stat-label">Notes cr√©√©es</div>
        </div>
        <div class="stat-item">
            <div class="stat-number">42</div>
            <div class="stat-label">Utilisateurs actifs</div>
        </div>
        <div class="stat-item">
            <div class="stat-number">99.9%</div>
            <div class="stat-label">Disponibilit√©</div>
        </div>
    </section>

    <!-- CTA -->
    <section class="cta-buttons">
        {% if not session.user_id %}
        <h2 style="margin-bottom: 30px;">Pr√™t √† s√©curiser vos notes ?</h2>
        <a href="/login" class="btn btn-primary" style="font-size: 1.2em; padding: 15px 40px;">
            Commencer maintenant
        </a>
        <p style="margin-top: 20px; color: #666; font-size: 0.9em;">
            Comptes de d√©monstration disponibles : john / alice
        </p>
        {% else %}
        <h2 style="margin-bottom: 30px;">Bienvenue, {{ session.username }} !</h2>
        <a href="/notes" class="btn btn-primary" style="font-size: 1.2em; padding: 15px 40px;">
            Voir mes notes
        </a>
        <p style="margin-top: 20px; color: #666;">
            Vous avez {{ notes_count }} note(s) dans votre espace.
        </p>
        {% endif %}
    </section>

    <!-- Footer -->
    <footer class="footer">
        <p>¬© 2023 Entreprise Secr√®te S.A. - Tous droits r√©serv√©s</p>
        <p style="font-size: 0.8em; opacity: 0.7; margin-top: 10px;">
            Syst√®me v2.1.4 | ID de session : {{ session.get('user_id', 'Non connect√©') }}
            {% if session.get('is_admin') %}
            | <span style="color: #28a745;">‚úì Compte administrateur</span>
            {% endif %}
        </p>
        <!-- Indice tr√®s subtil -->
        <p style="font-size: 0.7em; opacity: 0.3; margin-top: 20px;">
            Debug: Les IDs sont s√©quentiels (1-100). Admins: IDs 1-5. API: /api/note/{id}
        </p>
    </footer>
</body>
</html>
